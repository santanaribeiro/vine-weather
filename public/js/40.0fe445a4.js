"use strict";(globalThis["webpackChunkvineweather_project"]=globalThis["webpackChunkvineweather_project"]||[]).push([[40],{1040:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});var i=a(9835),l=a(1957),n=a(6970);const o={class:"col q-pt-lg q-px-md"},s={key:0,class:"col text-white text-center"},h={class:"text-h4 text-weight-light"},r={class:"text-h6 text-weight-light"},c={class:"text-h1 text-weight-thin q-my-lg relative-position"},p=(0,i._)("span",{class:"text-h4 relative-position degree"},"°C",-1),d={key:1,class:"col column text-center text-white"},u=(0,i._)("div",{class:"col text-h2 text-weight-thin"},"VineWeather",-1),g=(0,i._)("div",null,"Veja o clima na sua localização",-1);function w(e,t,a,w,m,x){const k=(0,i.up)("q-icon"),v=(0,i.up)("q-input"),_=(0,i.up)("q-btn"),q=(0,i.up)("q-page");return(0,i.wg)(),(0,i.j4)(q,{class:"flex column"},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i.Wm)(v,{outlined:"",modelValue:e.search,"onUpdate:modelValue":t[0]||(t[0]=t=>e.search=t),onKeyup:(0,l.D2)(e.getWeatherBySearch,["enter"]),placeholder:"Pesquisar",dark:"",borderless:""},{prepend:(0,i.w5)((()=>[(0,i.Wm)(k,{onClick:e.getLocation,name:"place"},null,8,["onClick"])])),append:(0,i.w5)((()=>[(0,i.Wm)(k,{name:"search",onClick:e.getWeatherBySearch,class:"cursor-pointer"},null,8,["onClick"])])),_:1},8,["modelValue","onKeyup"])]),e.weatherData?((0,i.wg)(),(0,i.iD)("div",s,[(0,i._)("div",h,(0,n.zw)(e.weatherData.name)+" - "+(0,n.zw)(e.weatherData.sys.country),1),(0,i._)("div",r,(0,n.zw)(e.weatherData.weather[0].description),1),(0,i._)("div",c,[(0,i._)("span",null,(0,n.zw)(Math.round(e.weatherData.main.temp)),1),p])])):((0,i.wg)(),(0,i.iD)("div",d,[u,(0,i.Wm)(_,{onClick:e.getLocation,class:"col",flat:""},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{left:"",size:"1em",name:"place"}),g])),_:1},8,["onClick"])]))])),_:1})}const m=(0,i.aZ)({name:"PageIndex",data(){return{search:"",weatherData:null,lat:null,lon:null,urlApi:"https://api.openweathermap.org/data/2.5/weather",keyApi:"cb9a9935b1b2ae09a7ccf06d2c36e61a"}},methods:{getLocation(){this.$q.loading.show(),navigator.geolocation.getCurrentPosition((e=>{console.log("position: ",e),this.lat=e.coords.latitude,this.lon=e.coords.longitude,console.log("lat: ",this.lat),this.getWeather()}))},getWeather(){this.$q.loading.show(),this.$axios(`${this.urlApi}?lat=${this.lat}&lon=${this.lon}&lang=pt_br&appid=${this.keyApi}&units=metric`).then((e=>{this.weatherData=e.data,this.$q.loading.hide()}))},getWeatherBySearch(){this.$q.loading.show(),this.$axios(`${this.urlApi}?q=${this.search}&lang=pt_br&appid=${this.keyApi}&units=metric`).then((e=>{this.weatherData=e.data,this.$q.loading.hide()}))}}});var x=a(1639),k=a(9885),v=a(4925),_=a(2857),q=a(8556),$=a(9984),y=a.n($);const b=(0,x.Z)(m,[["render",w]]),D=b;y()(m,"components",{QPage:k.Z,QInput:v.Z,QIcon:_.Z,QBtn:q.Z})}}]);